"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[469],{5954:(h,f,i)=>{i.d(f,{s:()=>t});var p=i(5384),u=i(4650);let t=(()=>{class d extends p.s{getCompanies(){return this.get("/companies")}getCompany(c){return this.get(`/companies/${c}`)}updateCompany(c,_){return this.post(`/companies/${c}`,_)}createCompany(c){return this.post("/companies",c)}}return d.\u0275fac=function(){let m;return function(_){return(m||(m=u.n5z(d)))(_||d)}}(),d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},3469:(h,f,i)=>{i.r(f),i.d(f,{HolidayModule:()=>M});var p=i(6895),u=i(9585),t=i(4650),d=i(9632);let m=(()=>{class n extends d.n{getUrl(){return"/holidays"}accept(e){return this.get(`${this.getUrl()}/${e}/accept`)}reject(e){return this.get(`${this.getUrl()}/${e}/reject`)}revoke(e){return this.get(`${this.getUrl()}/${e}/revoke`)}}return n.\u0275fac=function(){let a;return function(o){return(a||(a=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c=i(3599),_=i(5954),y=i(8386),g=i(9061);function v(n,a){1&n&&(t.TgZ(0,"a",20),t._uU(1,"New"),t.qZA())}function Z(n,a){if(1&n&&t._uU(0),2&n){const e=a.value;t.AsE(" ",e.name," ",e.surname," ")}}function A(n,a){1&n&&(t.TgZ(0,"ngx-datatable-column",21),t.YNc(1,Z,1,2,"ng-template",18),t.qZA())}function x(n,a){1&n&&(t.TgZ(0,"button",22),t._UZ(1,"i",23),t.qZA()),2&n&&t.s9C("ngbPopover",a.row.notes)}function C(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().row,l=t.oxw(2);return t.KtG(l.accept(r.id))}),t._uU(1," Accept "),t.qZA()}}function T(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().row,l=t.oxw(2);return t.KtG(l.reject(r.id))}),t._uU(1," Reject "),t.qZA()}}function H(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().row,l=t.oxw(2);return t.KtG(l.revoke(r.id))}),t._uU(1," Revoke "),t.qZA()}}function U(n,a){if(1&n&&(t.YNc(0,C,2,0,"button",25),t.YNc(1,T,2,0,"button",25),t.YNc(2,H,2,0,"button",25)),2&n){const e=a.row;t.Q6J("ngIf","accepted"!==e.status),t.xp6(1),t.Q6J("ngIf","pending"===e.status),t.xp6(1),t.Q6J("ngIf","accepted"===e.status)}}function S(n,a){1&n&&(t.TgZ(0,"ngx-datatable-column",24),t.YNc(1,U,3,3,"ng-template",18),t.qZA()),2&n&&t.Q6J("sortable",!1)}let k=(()=>{class n{constructor(e,o,r,l,b){this.holidayApiService=e,this.router=o,this.activatedRoute=r,this.companyApiService=l,this.userService=b,this.rows=[],this.loadingIndicator=!0,this.reorderable=!0,this.ColumnMode=u.hq}ngOnInit(){this.user=this.userService.getUser(),this.loadData()}loadData(){this.loadingIndicator=!0,this.holidayApiService.getAll().subscribe(e=>{this.rows=e.data,this.loadingIndicator=!1})}onSelect(e){console.log(e)}accept(e){this.holidayApiService.accept(e).subscribe(o=>{this.loadData()})}reject(e){this.holidayApiService.reject(e).subscribe(o=>{this.loadData()})}revoke(e){this.holidayApiService.revoke(e).subscribe(o=>{this.loadData()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m),t.Y36(c.F0),t.Y36(c.gz),t.Y36(_.s),t.Y36(y.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-holiday"]],decls:23,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between"],["routerLink","new","class","btn btn-primary","tabindex","-1","role","button",4,"ngIf"],[1,"table-responsive"],["rowHeight","auto",1,"bootstrap",3,"rows","loadingIndicator","columnMode","footerHeight","limit"],["name","Teacher","prop","teacher",4,"ngIf"],["name","Date start","prop","start_date"],["name","Date end","prop","end_date"],["name","Status","prop","status"],["name","Information"],["ngx-datatable-cell-template",""],["name","Actions","prop","id",3,"sortable",4,"ngIf"],["routerLink","new","tabindex","-1","role","button",1,"btn","btn-primary"],["name","Teacher","prop","teacher"],["type","button","placement","start",1,"btn","btn-primary",3,"ngbPopover"],[1,"feather","icon-info"],["name","Actions","prop","id",3,"sortable"],["class","btn btn-dark mx-1",3,"click",4,"ngIf"],[1,"btn","btn-dark","mx-1",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Holidays"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"List"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12," Holiday requests "),t.YNc(13,v,2,0,"a",10),t.qZA(),t.TgZ(14,"div",11)(15,"ngx-datatable",12),t.YNc(16,A,2,0,"ngx-datatable-column",13),t._UZ(17,"ngx-datatable-column",14)(18,"ngx-datatable-column",15)(19,"ngx-datatable-column",16),t.TgZ(20,"ngx-datatable-column",17),t.YNc(21,x,2,1,"ng-template",18),t.qZA(),t.YNc(22,S,2,1,"ngx-datatable-column",19),t.qZA()()()()()()),2&e&&(t.xp6(13),t.Q6J("ngIf","teacher"===o.user.user_role),t.xp6(2),t.Q6J("rows",o.rows)("loadingIndicator",o.loadingIndicator)("columnMode",o.ColumnMode.force)("footerHeight",50)("limit",10),t.xp6(1),t.Q6J("ngIf","teacher"!==o.user.user_role),t.xp6(6),t.Q6J("ngIf","teacher"!==o.user.user_role))},dependencies:[p.O5,c.yS,u.nE,u.UC,u.vq,g.o8]}),n})();var s=i(433);function I(n,a){if(1&n&&(t.TgZ(0,"p",24),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}let w=(()=>{class n{constructor(e,o,r){this.holidayApiService=e,this.formBuilder=o,this.router=r,this.error=[]}ngOnInit(){this.form=this.formBuilder.group({start_date:["",s.kI.required],end_date:["",s.kI.required],notes:[""]})}onSubmit(){this.error=[];let e=this.form.value;e.start_date=this.getDateString(e.start_date),e.end_date=this.getDateString(e.end_date),this.holidayApiService.create(e).subscribe(o=>{this.router.navigate(["/event"])},o=>{if(o.errors)for(let r in o.errors)o.errors[r].forEach(l=>{this.error.push(l)});else this.error.push(o.message)})}getDateString(e){return`${e.year}-${this.pad(e.month)}-${this.pad(e.day)}`}pad(e,o=2){let r=e+"";for(;r.length<o;)r="0"+r;return r}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m),t.Y36(s.qu),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit"]],decls:39,vars:2,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-6","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],[1,"input-group"],["placeholder","yyyy-mm-dd","formControlName","start_date","ngbDatepicker","",1,"form-control"],["start_date","ngbDatepicker"],["type","button",1,"input-group-text",3,"click"],[1,"feather","icon-calendar","icon-md","text-muted"],["placeholder","yyyy-mm-dd","formControlName","end_date","ngbDatepicker","",1,"form-control"],["end_date","ngbDatepicker"],["id","notes","formControlName","notes","rows","5",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2"],["routerLink","../",1,"btn","btn-secondary","me-2"],["class","text-danger mt-1",4,"ngFor","ngForOf"],[1,"text-danger","mt-1"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Holidays"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"New request"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"Holiday request"),t.qZA(),t.TgZ(13,"form",10),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(14,"div",11)(15,"label",12),t._uU(16,"From"),t.qZA(),t.TgZ(17,"div",13),t._UZ(18,"input",14,15),t.TgZ(20,"button",16),t.NdJ("click",function(){t.CHM(r);const b=t.MAs(19);return t.KtG(b.toggle())}),t._UZ(21,"i",17),t.qZA()()(),t.TgZ(22,"div",11)(23,"label",12),t._uU(24,"To"),t.qZA(),t.TgZ(25,"div",13),t._UZ(26,"input",18,19),t.TgZ(28,"button",16),t.NdJ("click",function(){t.CHM(r);const b=t.MAs(27);return t.KtG(b.toggle())}),t._UZ(29,"i",17),t.qZA()()(),t.TgZ(30,"div",11)(31,"label",12),t._uU(32,"Notes"),t.qZA(),t._UZ(33,"textarea",20),t.qZA(),t.TgZ(34,"button",21),t._uU(35,"Submit"),t.qZA(),t.TgZ(36,"div",22),t._uU(37,"Cancel"),t.qZA()(),t.YNc(38,I,2,1,"p",23),t.qZA()()()()}2&e&&(t.xp6(13),t.Q6J("formGroup",o.form),t.xp6(25),t.Q6J("ngForOf",o.error))},dependencies:[p.sg,c.rH,c.yS,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g.J4]}),n})();var N=i(9177),E=i(6017),J=i(9628);const Y=[{path:"",component:k},{path:"new",component:w,canActivate:[E.F]}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,c.Bz.forChild(Y),u.xD,s.u5,s.UX,N.A0,g.M,J.L,g.HK,g.dT]}),n})()}}]);