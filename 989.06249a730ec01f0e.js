"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[989],{6989:(N,_,g)=>{g.r(_),g.d(_,{LogsModule:()=>A});var a=g(6895),c=g(9585),n=g(4650),C=g(9632);let M=(()=>{class t extends C.n{getUrl(){return"/history-log"}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=n.n5z(t)))(s||t)}}(),t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=g(3599);function O(t,i){1&t&&n._UZ(0,"div",9)}function v(t,i){if(1&t&&(n.TgZ(0,"span",10),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Oqu(e.description)}}function y(t,i){if(1&t&&(n.TgZ(0,"section",11),n._UZ(1,"ngx-json-viewer",12),n.qZA()),2&t){const e=n.oxw().$implicit,s=n.oxw();n.xp6(1),n.Q6J("json",e.value)("expanded",s.expanded)("depth",s.depth)("_currentDepth",s._currentDepth+1)}}const P=function(t){return["segment",t]},h=function(t,i){return{"segment-main":!0,expandable:t,expanded:i}};function j(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"section",2)(1,"section",3),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw();return n.KtG(l.toggle(r))}),n.YNc(2,O,1,0,"div",4),n.TgZ(3,"span",5),n._uU(4),n.qZA(),n.TgZ(5,"span",6),n._uU(6,": "),n.qZA(),n.YNc(7,v,2,1,"span",7),n.qZA(),n.YNc(8,y,2,4,"section",8),n.qZA()}if(2&t){const e=i.$implicit,s=n.oxw();n.Q6J("ngClass",n.VKq(6,P,"segment-type-"+e.type)),n.xp6(1),n.Q6J("ngClass",n.WLB(8,h,s.isExpandable(e),e.expanded)),n.xp6(1),n.Q6J("ngIf",s.isExpandable(e)),n.xp6(2),n.Oqu(e.key),n.xp6(3),n.Q6J("ngIf",!e.expanded||!s.isExpandable(e)),n.xp6(1),n.Q6J("ngIf",e.expanded&&s.isExpandable(e))}}let w=(()=>{class t{constructor(){this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]}ngOnChanges(){this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(e=>{this.segments.push(this.parseKeyValue(e,this.json[e]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(e){return"object"===e.type||"array"===e.type}toggle(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}parseKeyValue(e,s){const o={key:e,value:s,type:void 0,description:""+s,expanded:this.isExpanded()};switch(typeof o.value){case"number":o.type="number";break;case"boolean":o.type="boolean";break;case"function":o.type="function";break;case"string":o.type="string",o.description='"'+o.value+'"';break;case"undefined":o.type="undefined",o.description="undefined";break;case"object":null===o.value?(o.type="null",o.description="null"):Array.isArray(o.value)?(o.type="array",o.description="Array["+o.value.length+"] "+JSON.stringify(o.value)):o.value instanceof Date?o.type="date":(o.type="object",o.description="Object "+JSON.stringify(o.value))}return o}isExpanded(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}decycle(e){const s=new WeakMap;return function o(r,l){let u,p;return"object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String?r:(u=s.get(r),void 0!==u?{$ref:u}:(s.set(r,l),Array.isArray(r)?(p=[],r.forEach(function(d,f){p[f]=o(d,l+"["+f+"]")})):(p={},Object.keys(r).forEach(function(d){p[d]=o(r[d],l+"["+JSON.stringify(d)+"]")})),p))}(e,"$")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[n.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(e,s){1&e&&(n.TgZ(0,"section",0),n.YNc(1,j,9,11,"section",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",s.segments))},dependencies:[a.mk,a.sg,a.O5,t],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[a.ez]}),t})();const x=function(t){return{entity:t}};function J(t,i){1&t&&n._UZ(0,"ngx-json-viewer",20),2&t&&n.Q6J("json",n.VKq(2,x,i.row.original_entity))("expanded",!1)}function Z(t,i){1&t&&n._UZ(0,"ngx-json-viewer",20),2&t&&n.Q6J("json",n.VKq(2,x,i.row.updated_entity))("expanded",!1)}const k=[{path:"",component:(()=>{class t{constructor(e,s,o,r){this.historyService=e,this.router=s,this.activatedRoute=o,this.datePipe=r,this.rows=[],this.loadingIndicator=!0,this.reorderable=!0,this.ColumnMode=c.hq}makeDate(e){return this.datePipe.transform(e,"d/M/Y H:mm:ss")}pipeEntity(e){return JSON.stringify(e)}ngOnInit(){this.historyService.getAll().subscribe(e=>{this.rows=e.data,this.loadingIndicator=!1})}onRowClicked(e){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(M),n.Y36(m.F0),n.Y36(m.gz),n.Y36(a.uU))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-logs"]],decls:25,vars:5,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between"],["routerLink","new","tabindex","-1","role","button",1,"btn","btn-primary"],[1,"table-responsive"],["rowHeight","auto",1,"bootstrap",3,"rows","loadingIndicator","columnMode","footerHeight","limit","activate"],["name","User","prop","user"],["name","Action","prop","action"],["name","Entity","prop","entity"],["name","Updated at","prop","updated_at"],["name","Original entity"],["ngx-datatable-cell-template",""],["name","Updated entity"],[3,"json","expanded"]],template:function(e,s){1&e&&(n.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),n._uU(4,"Logs"),n.qZA()(),n.TgZ(5,"li",4),n._uU(6,"Log of changes"),n.qZA()()(),n.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),n._uU(12," Logs "),n.TgZ(13,"a",10),n._uU(14,"New"),n.qZA()(),n.TgZ(15,"div",11)(16,"ngx-datatable",12),n.NdJ("activate",function(r){return s.onRowClicked(r)}),n._UZ(17,"ngx-datatable-column",13)(18,"ngx-datatable-column",14)(19,"ngx-datatable-column",15)(20,"ngx-datatable-column",16),n.TgZ(21,"ngx-datatable-column",17),n.YNc(22,J,1,4,"ng-template",18),n.qZA(),n.TgZ(23,"ngx-datatable-column",19),n.YNc(24,Z,1,4,"ng-template",18),n.qZA()()()()()()()),2&e&&(n.xp6(16),n.Q6J("rows",s.rows)("loadingIndicator",s.loadingIndicator)("columnMode",s.ColumnMode.force)("footerHeight",50)("limit",10))},dependencies:[m.yS,c.nE,c.UC,c.vq,w]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[a.ez,m.Bz.forChild(k),c.xD,b]}),t})()}}]);