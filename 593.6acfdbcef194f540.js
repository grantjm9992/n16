"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[593],{3688:(f,m,a)=>{a.d(m,{L:()=>e});var v=a(5384),p=a(4650);let e=(()=>{class c extends v.s{getEvents(o="",n="",h="",g=""){return this.get(`/events?date=${o}&by_teacher=${n}&company_id=${h}&my_calendar=${g}`)}getEvent(o){return this.get(`/events/${o}`)}updateEvent(o,n){return this.post(`/events/${o}`,n)}updateEventForGroup(o,n){return console.log(n),this.post(`/events/update-events-for-group/${o}`,n)}deleteEventsForGroup(o,n){return this.post(`/events/delete-events-for-group/${o}`,{date_range_start:n})}deleteEvent(o){return this.delete(`/events/${o}`)}updateEventClassroom(o,n){return this.post(`/events/update-classroom/${o}/${n}`)}updateEventStart(o,n){return this.post(`/events/update-dates/${o}`,n)}updateEventTeacher(o,n){return this.post(`/events/update-teacher/${o}/${n}`)}createEvent(o){return this.post("/events",o)}getEventTypes(){return this.get("/event-type")}}return c.\u0275fac=function(){let s;return function(n){return(s||(s=p.n5z(c)))(n||c)}}(),c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},9593:(f,m,a)=>{a.r(m),a.d(m,{EventTypeModule:()=>_});var v=a(6895),p=a(9585),e=a(4650),c=a(3688),s=a(3599);let o=(()=>{class i{constructor(t,r,d){this.eventApiService=t,this.router=r,this.activatedRoute=d,this.rows=[],this.loadingIndicator=!0,this.reorderable=!0,this.ColumnMode=p.hq}ngOnInit(){this.eventApiService.getEventTypes().subscribe(t=>{this.rows=t.data,this.loadingIndicator=!1})}onRowClicked(t){"click"===t.type&&this.router.navigate([t.row.id],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.L),e.Y36(s.F0),e.Y36(s.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-event-type"]],decls:18,vars:5,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between"],["routerLink","new","tabindex","-1","role","button",1,"btn","btn-primary"],[1,"table-responsive"],["rowHeight","auto",1,"bootstrap",3,"rows","loadingIndicator","columnMode","footerHeight","limit","activate"],["name","Name","prop","name"]],template:function(t,r){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Event types"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"List"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12," Event types "),e.TgZ(13,"a",10),e._uU(14,"New"),e.qZA()(),e.TgZ(15,"div",11)(16,"ngx-datatable",12),e.NdJ("activate",function(l){return r.onRowClicked(l)}),e._UZ(17,"ngx-datatable-column",13),e.qZA()()()()()()),2&t&&(e.xp6(16),e.Q6J("rows",r.rows)("loadingIndicator",r.loadingIndicator)("columnMode",r.ColumnMode.force)("footerHeight",50)("limit",10))},dependencies:[s.yS,p.nE,p.UC]}),i})();var n=a(433),h=a(3116);function g(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.delete())}),e._uU(1,"Delete"),e.qZA()}}function b(i,u){if(1&i&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(t)}}let y=(()=>{class i{constructor(t,r,d,l){this.router=t,this.activatedRoute=r,this.apiService=d,this.formBuilder=l,this.error=[],this.entity=null,this.id=null}ngOnInit(){this.form=this.formBuilder.group({name:["",n.kI.required]}),this.id=this.activatedRoute.snapshot.paramMap.get("id"),null!==this.id&&"new"!==this.id&&this.apiService.find(this.id).subscribe(t=>{this.entity=t.data,this.form.patchValue(t.data)})}onSubmit(){this.error=[];const t={...this.entity,...this.form.value};"new"!==this.id?this.apiService.update(this.entity.id,t).subscribe(()=>{this.router.navigate(["/event-type"])},r=>{if(r.errors)for(let d in r.errors)r.errors[d].forEach(l=>{this.error.push(l)});else this.error.push(r.message)}):this.apiService.create(t).subscribe(()=>{this.router.navigate(["/event-type"])},r=>{if(r.errors)for(let d in r.errors)r.errors[d].forEach(l=>{this.error.push(l)});else this.error.push(r.message)})}delete(){this.apiService.remove(this.entity.id).subscribe(t=>{this.router.navigate(["/event-type"])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.F0),e.Y36(s.gz),e.Y36(h.L),e.Y36(n.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit"]],decls:24,vars:4,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-6","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","autocomplete","off","placeholder","Name","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2"],["routerLink","../",1,"btn","btn-secondary","me-2"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","text-danger mt-1",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"text-danger","mt-1"]],template:function(t,r){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Event types"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12,"Event types"),e.qZA(),e.TgZ(13,"form",10),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"Name"),e.qZA(),e._UZ(17,"input",13),e.qZA(),e.TgZ(18,"button",14),e._uU(19,"Submit"),e.qZA(),e.TgZ(20,"div",15),e._uU(21,"Cancel"),e.qZA(),e.YNc(22,g,2,0,"div",16),e.qZA(),e.YNc(23,b,2,1,"p",17),e.qZA()()()()),2&t&&(e.xp6(6),e.Oqu(null===r.entity?"New":"Edit"),e.xp6(7),e.Q6J("formGroup",r.form),e.xp6(9),e.Q6J("ngIf",null!==r.entity),e.xp6(1),e.Q6J("ngForOf",r.error))},dependencies:[v.sg,v.O5,s.rH,s.yS,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),i})();var E=a(9177);const T=[{path:"",component:o},{path:":id",component:y}];let _=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.ez,s.Bz.forChild(T),p.xD,n.u5,n.UX,E.A0]}),i})()}}]);